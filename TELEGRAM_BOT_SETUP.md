# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –û–ø–∏—Å–∞–Ω–∏–µ

Telegram –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ:
1. üÜï –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. üìÖ –ó–∞–ø–∏—Å–∏ –Ω–∞ —É—Ä–æ–∫–∏
3. üí¨ –ó–∞–ø—Ä–æ—Å–∞—Ö –∫ –ø—Å–∏—Ö–æ–ª–æ–≥—É

## –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**Bot Token:** `8098211455:AAHgn_Tnl23c5Vr2AE2c1GuhuyUXKgj27N4`  
(–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `src/services/telegramService.ts`)

## –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ß—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤–∞—à Telegram Chat ID:

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞ @userinfobot

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `@userinfobot`
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
4. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à Chat ID (—á–∏—Å–ª–æ –≤–∏–¥–∞ `123456789`)

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ API Telegram

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∞—à–µ–º—É –±–æ—Ç—É
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   ```
   https://api.telegram.org/bot8098211455:AAHgn_Tnl23c5Vr2AE2c1GuhuyUXKgj27N4/getUpdates
   ```
3. –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ `"chat":{"id":` - —ç—Ç–æ –≤–∞—à Chat ID

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞ @getidsbot

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `@getidsbot` –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à Chat ID

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ `viktorija-web`:

```env
VITE_TELEGRAM_ADMIN_CHAT_ID=–≤–∞—à_chat_id_–∑–¥–µ—Å—å
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```env
VITE_TELEGRAM_ADMIN_CHAT_ID=123456789
```

### –î–ª—è Vercel (Production)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Vercel Dashboard](https://vercel.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables**
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name:** `VITE_TELEGRAM_ADMIN_CHAT_ID`
   - **Value:** –≤–∞—à Chat ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)
   - **Environments:** –≤—ã–±–µ—Ä–∏—Ç–µ –≤—Å–µ (Production, Preview, Development)
5. –ù–∞–∂–º–∏—Ç–µ **Save**
6. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (Redeploy)

## –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ: `npm run dev`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google OAuth
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram - –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### –¢–µ—Å—Ç 2: –ó–∞–ø–∏—Å—å –Ω–∞ —É—Ä–æ–∫

1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
3. –ó–∞–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ —É—Ä–æ–∫
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram - –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø–∏—Å–∏

### –¢–µ—Å—Ç 3: –ó–∞–ø—Ä–æ—Å –ø—Å–∏—Ö–æ–ª–æ–≥—É

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Support"
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Å–∏—Ö–æ–ª–æ–≥—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram - –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø—Ä–æ—Å–µ

## –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

```
üÜï New User Registered

üë§ Name: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
üìß Email: ivan@example.com
üì± Phone: +372 1234567
üò∞ Anxiety Level: 3/5

‚è∞ Time: 1/15/2025, 10:30:00 AM
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø–∏—Å–∏ –Ω–∞ —É—Ä–æ–∫

```
üìÖ New Lesson Booking

üë§ Student: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
üìß Email: ivan@example.com
üë®‚Äçüè´ Instructor: Igor Nagorski
üöó Type: Practice
üìÜ Date: Monday, January 20, 2025
üïê Time: 14:00

‚è∞ Booked at: 1/15/2025, 10:35:00 AM
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø—Ä–æ—Å–µ –ø—Å–∏—Ö–æ–ª–æ–≥—É

```
üí¨ New Support Request

üë§ Student: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
üìß Email: ivan@example.com
üü° Anxiety Level: 3/5

üí≠ Message:
–ú–Ω–µ –æ—á–µ–Ω—å —Å—Ç—Ä–∞—à–Ω–æ —Å–∞–¥–∏—Ç—å—Å—è –∑–∞ —Ä—É–ª—å...

‚è∞ Sent at: 1/15/2025, 10:40:00 AM
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –¢–æ–∫–µ–Ω –±–æ—Ç–∞ —Å–µ–π—á–∞—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ, —á—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è production.

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Edge Function:**
   - –°–æ–∑–¥–∞—Ç—å Edge Function –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö Supabase
   - –í—ã–∑—ã–≤–∞—Ç—å Edge Function –∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞

2. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:**
   - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π API endpoint
   - –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –í—ã–∑—ã–≤–∞—Ç—å API –∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä Edge Function (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ):

```typescript
// supabase/functions/send-telegram-notification/index.ts
import { serve } from "https://deno.land/std@0.168.0/http/server.ts"

const TELEGRAM_BOT_TOKEN = Deno.env.get('TELEGRAM_BOT_TOKEN')!
const ADMIN_CHAT_ID = Deno.env.get('TELEGRAM_ADMIN_CHAT_ID')!

serve(async (req) => {
  const { message } = await req.json()
  
  await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      chat_id: ADMIN_CHAT_ID,
      text: message,
      parse_mode: 'HTML'
    })
  })
  
  return new Response(JSON.stringify({ success: true }), {
    headers: { 'Content-Type': 'application/json' }
  })
})
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `VITE_TELEGRAM_ADMIN_CHAT_ID` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–º—É —Å–æ–æ–±—â–µ–Ω–∏–µ)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –û—à–∏–±–∫–∞ "Chat not found"

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Chat ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ)

### –û—à–∏–±–∫–∞ "Unauthorized"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Telegram Bot API Documentation](https://core.telegram.org/bots/api)
- [Supabase Edge Functions](https://supabase.com/docs/guides/functions)
