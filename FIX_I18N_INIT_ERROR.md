# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏: Cannot access '$t' before initialization

## –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ `Cannot access '$t' before initialization` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞:
1. **–ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —á–∞–Ω–∫–æ–≤** - i18n –∑–∞–≥—Ä—É–∂–∞–ª—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —á–∞–Ω–∫–µ –ø–æ—Å–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - i18n –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—ã—Ç–∞–ª–∏—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —á–∞–Ω–∫–æ–≤
**–§–∞–π–ª:** `vite.config.ts`

**–ë—ã–ª–æ:**
```typescript
// i18n –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —á–∞–Ω–∫–µ
if (id.includes('react-i18next') || id.includes('i18next')) {
  return 'vendor-i18n';
}
```

**–°—Ç–∞–ª–æ:**
```typescript
// i18n –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å React
if (id.includes('react-i18next') || id.includes('i18next')) {
  return 'vendor-react'; // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤–º–µ—Å—Ç–µ —Å React
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** i18n —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ —á–∞–Ω–∫–µ, —á—Ç–æ –∏ React, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

---

### 2. –£–ª—É—á—à–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è i18n
**–§–∞–π–ª:** `src/i18n/i18n.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `initImmediate: true` - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `useSuspense: false` - –æ—Ç–∫–ª—é—á–µ–Ω suspense –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- `debug: false` - –æ—Ç–∫–ª—é—á–µ–Ω debug –≤ production

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** i18n –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---

### 3. –î–æ–±–∞–≤–ª–µ–Ω i18n –≤ optimizeDeps
**–§–∞–π–ª:** `vite.config.ts`

```typescript
optimizeDeps: {
  include: [
    'react',
    'react-dom',
    'react-router-dom',
    'react-i18next',      // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
    'i18next',            // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
    'i18next-browser-languagedetector', // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
    // ...
  ],
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** i18n –ø—Ä–µ–¥–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

### 4. –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
**–§–∞–π–ª:** `vite.config.ts`

```typescript
minify: false, // –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ä–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ:
```typescript
minify: mode === 'production' ? 'esbuild' : false,
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
```bash
npm run build
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å preview
```bash
npm run preview
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å
- ‚úÖ –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–∫–∏ "Cannot access '$t' before initialization"
- ‚úÖ i18n –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. ‚úÖ **–ù–µ—Ç –æ—à–∏–±–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** - i18n –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å React
2. ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏** - –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
3. ‚úÖ **–†–∞–±–æ—Ç–∞—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `t()` —Ñ—É–Ω–∫—Ü–∏—é

---

## üîÑ –í–∫–ª—é—á–µ–Ω–∏–µ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ

–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —á—Ç–æ –æ—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `vite.config.ts`
2. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
```typescript
minify: mode === 'production' ? 'esbuild' : false,
```
3. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
```typescript
// minify: false,
```
4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è i18n:**
```typescript
// –í main.tsx
const i18nPromise = import('./i18n/i18n');
```

2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
const { t, ready } = useTranslation();
if (!ready) return <Loading />;
```

–ù–æ —ç—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ—Å–ª–µ —Ç–µ–∫—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

---

**–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã! –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.** ‚úÖ
