# –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞ –Ω–∞ Vercel

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ localhost

- –ë–æ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç welcome —ç–∫—Ä–∞–Ω
- Google OAuth —Ä–∞–±–æ—Ç–∞–µ—Ç
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ Vercel

### 1. Environment Variables (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)

Vercel ‚Üí Settings ‚Üí Environment Variables ‚Üí –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –µ—Å—Ç—å:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–∫—Ä—É–∂–µ–Ω–∏—è |
|------------|----------|-----------|
| `VITE_SUPABASE_URL` | `https://xxxxx.supabase.co` | ‚úÖ Production, Preview, Development |
| `VITE_SUPABASE_ANON_KEY` | –¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á –∏–∑ Supabase | ‚úÖ Production, Preview, Development |
| `VITE_TELEGRAM_ADMIN_CHAT_ID` | —Ç–≤–æ–π Telegram Chat ID | ‚úÖ Production, Preview, Development |

**–í–ê–ñ–ù–û**: –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Üí **Redeploy**!

### 2. Supabase Redirect URLs

Supabase Dashboard ‚Üí Authentication ‚Üí URL Configuration:

- **Site URL**: `https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.vercel.app`
- **Redirect URLs**:
  - `https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.vercel.app/bot`
  - `https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.vercel.app/bot/**`

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞ –Ω–∞ Vercel: `https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.vercel.app/bot`
2. **F12 ‚Üí Console** - –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫:
   - ‚ùå `‚ö†Ô∏è Supabase environment variables are not configured!` ‚Üí env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç–∏–ª–∏—Å—å
   - ‚ùå `getCurrentUser timeout` ‚Üí Supabase –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
   - ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ ‚Üí –≤—Å—ë —Ö–æ—Ä–æ—à–æ!

3. –ü—Ä–æ–≤–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
   - ‚úÖ –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç welcome —ç–∫—Ä–∞–Ω (–Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ loading)
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "Login via Google" —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è anxiety test –∏–ª–∏ menu
   - ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
   - ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–∫
   - ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram –Ω–∞ Vercel

–ù–∞ Vercel Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ **Serverless Function** (`/api/telegram-notify`):

- ‚úÖ –¢–æ–∫–µ–Ω –±–æ—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ production

**–ü—Ä–æ–≤–µ—Ä—å**:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Google
2. –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram: "üÜï New User Registered"
3. –ó–∞–±—Ä–æ–Ω–∏—Ä—É–π —É—Ä–æ–∫
4. –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏: "üìÖ New Lesson Booking"

### 5. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

#### –ë–æ—Ç –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ "Laadimine..."
- –ü—Ä–æ–≤–µ—Ä—å env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ø.1)
- –°–¥–µ–ª–∞–π **Redeploy** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—å Console (F12) –Ω–∞ –æ—à–∏–±–∫–∏

#### Google OAuth –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å Redirect URLs –≤ Supabase (–ø.2)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ Site URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

#### Telegram –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å `VITE_TELEGRAM_ADMIN_CHAT_ID` –≤ Vercel
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Vercel: Deployments ‚Üí Functions ‚Üí `/api/telegram-notify`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –±–æ—Ç —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `api/telegram-notify.ts`

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Vercel
- [ ] Supabase Redirect URLs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –°–¥–µ–ª–∞–Ω commit –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –°–¥–µ–ª–∞–Ω push –≤ GitHub
- [ ] Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏–ª (–∏–ª–∏ —Å–¥–µ–ª–∞–ª Redeploy –≤—Ä—É—á–Ω—É—é)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω welcome —ç–∫—Ä–∞–Ω (–Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω Google OAuth
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üéâ –ì–æ—Ç–æ–≤–æ!

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ localhost –∏ —Ç—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ Vercel - –±–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Ç–∞–º!
